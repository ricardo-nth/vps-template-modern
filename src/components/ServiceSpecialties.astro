---
import { Image } from 'astro:assets';
import Icon from './Icon.astro';
import serviceGeneral from '@assets/images/service-general.jpg';

interface Specialty {
  title: string;
  description: string;
  icon: string;
  imageSrc: ImageMetadata;
  features: string[];
}

interface Props {
  heading?: string;
  subheading?: string;
  specialties?: Specialty[];
}

const {
  heading = "Specialized Care Pathways",
  subheading = "We provide dedicated support streams tailored to specific needs, ensuring every individual receives the right expertise and environment to thrive.",
  specialties = [
    {
      title: "Learning Disabilities",
      description: "Empowering individuals to reach their full potential through personalized support, skill-building, and active community engagement.",
      icon: "tabler:bulb",
      imageSrc: serviceGeneral,
      features: ["Skill acquisition", "Community integration", "Personalized communication"]
    },
    {
      title: "Autism & Neurodiversity",
      description: "Structured, sensory-aware environments and communication support tailored to neurodiverse needs, reducing anxiety and promoting confidence.",
      icon: "tabler:puzzle",
      imageSrc: serviceGeneral,
      features: ["Sensory-friendly spaces", "Routine support", "Specialist staff training"]
    },
    {
      title: "Mental Health Support",
      description: "Recovery-focused support promoting emotional wellbeing, resilience, and community connection for those with enduring mental health needs.",
      icon: "tabler:brain",
      imageSrc: serviceGeneral,
      features: ["Recovery model", "Crisis prevention", "Emotional resilience"]
    },
    {
      title: "Physical Disabilities",
      description: "Accessible housing and adaptive support enabling independence and active participation in daily life and the wider community.",
      icon: "tabler:wheelchair",
      imageSrc: serviceGeneral,
      features: ["Accessible environments", "Adaptive technology", "Mobility support"]
    },
    {
      title: "Older Adults",
      description: "Dignified support for changing needs, maintaining independence, social connection, and quality of life in later years.",
      icon: "tabler:cane",
      imageSrc: serviceGeneral,
      features: ["Companionship", "Health monitoring", "Active ageing"]
    },
    {
      title: "Transitional Support",
      description: "Guiding young adults from care, college, or family homes into independent adult life with confidence and practical skill development.",
      icon: "tabler:walk",
      imageSrc: serviceGeneral,
      features: ["Life skills training", "Education support", "Tenancy management"]
    }
  ]
} = Astro.props as Props;
---

<section class="py-24 bg-background" id="specialties">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center max-w-3xl mx-auto mb-16">
      <h2 class="text-3xl sm:text-4xl font-bold text-foreground mb-6">{heading}</h2>
      <p class="text-lg text-muted-foreground">{subheading}</p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {specialties.map((specialty) => (
        <div class="group bg-card border border-border rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1 flex flex-col h-full">
          <div class="relative h-48 overflow-hidden">
            <div class="absolute inset-0 bg-primary/20 z-10 group-hover:bg-primary/10 transition-colors duration-300"></div>
            <Image 
              src={specialty.imageSrc} 
              alt={specialty.title}
              class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"
              loading="lazy"
            />
            <div class="absolute bottom-4 left-4 z-20 bg-background/90 backdrop-blur-sm p-2 rounded-lg shadow-sm">
              <Icon name={specialty.icon} class="w-6 h-6 text-primary" />
            </div>
          </div>
          
          <div class="p-6 flex flex-col flex-1">
            <h3 class="text-xl font-bold text-foreground mb-3 group-hover:text-primary transition-colors">
              {specialty.title}
            </h3>
            <p class="text-muted-foreground mb-6 flex-1">
              {specialty.description}
            </p>
            
            <div class="border-t border-border pt-4 mt-auto">
              <ul class="space-y-2">
                {specialty.features.map((feature) => (
                  <li class="flex items-center text-sm text-muted-foreground">
                    <Icon name="tabler:check" class="w-4 h-4 text-primary mr-2 shrink-0" />
                    {feature}
                  </li>
                ))}
              </ul>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>