---
import Icon from './Icon.astro';

interface Props {
  primaryAddress?: string;
  secondaryAddress?: string;
  primaryMapUrl?: string;
  primaryDirectionsUrl?: string;
  secondaryMapUrl?: string;
  secondaryDirectionsUrl?: string;
}

const {
  primaryAddress = "Foxhall Lodge, Foxhall Road, Forest Fields, Nottingham NG7 6LH",
  secondaryAddress = "Office Suite 2, Renewal House, Foxhill Road, Carlton, Nottingham NG4 1RZ",
  primaryMapUrl = "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2383.023939446516!2d-1.2015!3d52.9742!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4879c2c4e4e4e4e5%3A0x1234567890!2sFoxhall+Lodge+Nottingham!5e0!3m2!1sen!2suk!4v1629890000000",
  primaryDirectionsUrl = "https://www.google.com/maps/dir//Foxhall+Lodge,+Foxhall+Road,+Forest+Fields,+Nottingham+NG7+6LH",
  secondaryMapUrl = "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2383.512345678!2d-1.197!3d52.957!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4879d5c5c5c5c5c5%3A0x1234567891!2sRenewal+House+Carlton!5e0!3m2!1sen!2suk!4v1629890000001",
  secondaryDirectionsUrl = "https://www.google.com/maps/dir//Office+Suite+2,+Renewal+House,+Foxhill+Road,+Carlton,+Nottingham+NG4+1RZ"
} = Astro.props as Props;
---

<section class="py-24 bg-background">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <p class="text-xs font-semibold uppercase tracking-[0.2em] text-primary mb-4">Locations</p>
      <h2 class="text-3xl sm:text-4xl font-bold text-foreground mb-6 tracking-tight">Our Offices</h2>
      <p class="text-lg text-muted-foreground max-w-3xl mx-auto">
        We welcome visits from families and commissioners. Please call ahead to schedule an appointment.
      </p>
    </div>

    {/* Primary Office */}
    <div class="grid lg:grid-cols-2 gap-12 items-center mb-20">
      <div>
        <div class="relative p-8 rounded-2xl bg-card border border-border/70 overflow-hidden">
          <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/30 to-transparent"></div>
          
          <div class="flex items-start gap-4 mb-6">
            <div class="inline-flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 text-primary ring-1 ring-primary/20 flex-shrink-0">
              <Icon name="tabler:map-pin" class="w-6 h-6" />
            </div>
            <div>
              <h3 class="font-bold text-foreground text-lg mb-1">Registered Location</h3>
              <p class="text-muted-foreground leading-relaxed">
                {primaryAddress}
              </p>
              <p class="text-sm text-muted-foreground mt-2">
                Care services operate from this location
              </p>
            </div>
          </div>

          {/* Office hours with primary */}
          <div class="pt-6 border-t border-border/60">
            <div class="flex items-center gap-3 text-sm">
              <Icon name="tabler:clock" class="w-4 h-4 text-primary" />
              <span class="text-muted-foreground">Mon - Fri, 9am - 5pm</span>
            </div>
            <p class="text-xs text-muted-foreground mt-1 ml-7">On-call support available for emergencies</p>
          </div>
        </div>

        <a
          href={primaryDirectionsUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="mt-6 inline-flex items-center gap-2 bg-primary text-primary-foreground px-6 py-3 rounded-xl font-semibold hover:bg-primary/90 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5"
        >
          <Icon name="tabler:map-2" class="w-5 h-5" />
          Get Directions
          <Icon name="tabler:arrow-right" class="w-4 h-4" />
        </a>
      </div>

      <div class="relative h-[400px] lg:h-[500px] rounded-2xl overflow-hidden shadow-2xl shadow-primary/10 border border-border/70">
        <iframe
          src={primaryMapUrl}
          width="100%"
          height="100%"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          class="absolute inset-0 w-full h-full grayscale hover:grayscale-0 transition-all duration-500"
        ></iframe>
      </div>
    </div>

    {/* Secondary Office */}
    <div class="grid lg:grid-cols-2 gap-12 items-center">
      <div class="order-2 lg:order-1">
        <div class="relative h-[400px] lg:h-[500px] rounded-2xl overflow-hidden shadow-2xl shadow-primary/10 border border-border/70">
          <iframe
            src={secondaryMapUrl}
            width="100%"
            height="100%"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            class="absolute inset-0 w-full h-full grayscale hover:grayscale-0 transition-all duration-500"
          ></iframe>
        </div>
      </div>

      <div class="order-1 lg:order-2">
        <div class="relative p-8 rounded-2xl bg-card border border-border/70 overflow-hidden">
          <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/30 to-transparent"></div>
          
          <div class="flex items-start gap-4 mb-6">
            <div class="inline-flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 text-primary ring-1 ring-primary/20 flex-shrink-0">
              <Icon name="tabler:briefcase" class="w-6 h-6" />
            </div>
            <div>
              <h3 class="font-bold text-foreground text-lg mb-1">Business Address</h3>
              <p class="text-muted-foreground leading-relaxed">
                {secondaryAddress}
              </p>
              <p class="text-sm text-muted-foreground mt-2">
                Business operations and postal address
              </p>
            </div>
          </div>

          {/* Office hours with secondary */}
          <div class="pt-6 border-t border-border/60">
            <div class="flex items-center gap-3 text-sm">
              <Icon name="tabler:clock" class="w-4 h-4 text-primary" />
              <span class="text-muted-foreground">Mon - Fri, 9am - 5pm</span>
            </div>
            <p class="text-xs text-muted-foreground mt-1 ml-7">Postal correspondence address</p>
          </div>
        </div>

        <a
          href={secondaryDirectionsUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="mt-6 inline-flex items-center gap-2 bg-primary text-primary-foreground px-6 py-3 rounded-xl font-semibold hover:bg-primary/90 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5"
        >
          <Icon name="tabler:map-2" class="w-5 h-5" />
          Get Directions
          <Icon name="tabler:arrow-right" class="w-4 h-4" />
        </a>
      </div>
    </div>
  </div>
</section>